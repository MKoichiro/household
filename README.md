# household

## 📋 概要
- プロジェクト名: "household"
- アプリケーション名: **"My Transactions"**  
- URL: [https://household-1dc1b.web.app/](https://household-1dc1b.web.app/)

個人開発の家計簿アプリケーションです。日々の収支を直感的に記録・閲覧でき、月次レポートをグラフで確認できます。
[動画教材](https://www.udemy.com/course/reacttypescrip-reacttypescript)を参考に、拡張しています。

## 🔍 特徴

#### 講座部分（１週間）
- **収支の記録**: 日付、金額、カテゴリ、メモを入力
- **月次レポート**: 棒グラフや円グラフで視覚化
- **カレンダー表示**: 日別の支出／収入をカレンダー上で確認
- **データベース**: Firebase Firestore によるクラウド保存  

#### 自作部分（１ヶ月半）
- **ホスティング**: Firebase hostingにデプロイし、アプリケーションを公開
- **認証機能**: Firebase Authentication を利用したユーザー認証
- **ページ**: 公開ページ、ログインページ、サインアップページ、設定ページを追加
- **ルーティング**: 認証機能追加に伴い、各種ガードやmeta情報付与を組み込み改修
- **設定画面**: ユーザー情報表示、表示名変更機能
- **自作UI**:
  - ヘッダーのニュースバー
  - ヘッダーのコンテキストメニュー
  - 通知領域
  - ...etc
- **テーマ変更**: ライトモード／ダークモードの切り替え機能
- **レスポンシブ対応**: PC／タブレット／スマホに対応
- **AIアドバイザー**: OpenAI APIを使って、月間レポートをもとに、消費活動へのアドバイスを出力する機能
- **その他**: 画面単位、コンポーネント単位の遅延読み込みやローディング、...

## 🛠 技術スタック

- フロントエンド: `TypeScript` + `React19`
  - ルーティング: `React Router DOM`
- UI: `MUI（Material-UI）`
- スタイリング: `styled from @emotion/styled`  
  （mui の依存関係の emotion が提供する styled-components の styled 関数のような関数）
- バリデーション: `Zod`
- バックエンド: `Firebase Firestore`
- 認証: `Firebase Authentication`
- デプロイ: `Firebase Hosting`
- その他:
  - `React Hook Form`
  - `Chart.js`（react-chartjs-2）
  - `FullCalendar` ...etc
---
- ビルドツール、開発サーバー: `vite`
- コード整形: `prettier`, `eslint`(`Flat Config`)
- ドキュメント: `TSDoc`  
  - あまり熱心には（網羅的には）書いていません。主に、汎用的に設計した`src/ui/ContextMenu/`で記述しています。
  - [GitHub Pages](https://mkoichiro.github.io/household/) を使って公開しています。

## 📂 ディレクトリ構成（抜粋）

```
root/
├── functions/         # OpenAI への API コールを代理する firebase function サーバー用
├── docs/              # tsdoc の成果物
├── public/            # 静的アセット（アプリロゴ、お知らせ内容 など）
├── src/
│     ├── app         # エントリポイント、ルーティング、プロバイダー設定
│     ├── features    # 各ページ固有のコンポーネント
│     ├── layouts     # レイアウトコンポーネント
│     ├── pages       # 各ページのルートコンポーネント
│     ├── shared      # 共通利用するもの、hooks, utils, types, ...
│     ├── styles      # グローバルスタイルとテーマ定義
│     └── ui          # 汎用的なuiコンポーネント
│
└── index.html         # エントリポイントのマウント先
```

## ✅ 動作確認
### 画面遷移図
[こちら](https://overflow.io/s/A37AY1B8)を参照ください。

### ログインまでの流れ
1. [https://household-1dc1b.web.app/](https://household-1dc1b.web.app/) にアクセス
2. 右上の「サインアップ」ボタンからサインアップページに移動
3. フォームに必要事項を入力のうえ、「新規登録」ボタンを押下
4. 送信されるメールを確認し、リンクをクリックしてアクティベート
5. 再度１のリンクへアクセス

### ログイン済みユーザー
何らかの不具合がある場合、ログインが煩わしい場合は、以下のアカウントをご利用ください。
ユーザー名: portfolio.mikama@gmail.com
パスワード: abcd1234

### 内訳の追加（PC）
#### パターンⅠ: バルクインサート
テストデータを一括で登録できるように、ホーム画面下部に開発者ツールを用意しているのでご確認ください。
#### パターンⅡ: 一般ユーザーの方法
1. ログイン後、ホームのカレンダーでデータを追加したい日にちをクリック
2. 右のサイドパネルに日にちのデータが反映される
3. パネル中ほどの「内訳を追加」ボタンから内訳追加用のフォームを展開
4. フォームに必要事項を入力し、「保存」ボタンをクリック

### 内訳の編集（PC）
1. ログイン後、ホームのカレンダーで編集したいデータのある日にちをクリック
2. 右のサイドパネルの内訳一覧から該当のカードをクリック
3. 編集用フォームが展開されるので、「削除」、または入力して「編集」

### 環境
- Chrome（windows 11, iOS）
- Edge（windows 11）
- Safari（iPadOS, iOS）

※ どれも2025/06（確認時点）での最新版とします。
※ 厳密なテストなどに基づくものではありません。手持ちのデバイスでアクセスして確認した程度です。万が一不具合がある場合には、画面のリロードをお願いします。改善されなければ、お手数ですがデバイスやブラウザを変えてお試しください。
